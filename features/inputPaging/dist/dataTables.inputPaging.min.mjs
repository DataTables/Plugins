import jQuery from"jquery";import DataTable from"datatables.net";let $=jQuery;function setState(t,e,a){t.classList.toggle(e,a);e=t.querySelector("a");e&&(a?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled"))}function stylingStructure(t){t=t.table().container().classList;return t.contains("dt-bootstrap5")||t.contains("dt-bootstrap4")||t.contains("dt-bootstrap")?{wrapper:{tag:"ul",className:"dt-inputpaging pagination"},item:{tag:"li",className:"page-item",disabled:"disabled",liner:{tag:"a",className:"page-link"}},inputItem:{tag:"li",className:"page-item dt-paging-input"},input:{tag:"input",className:""}}:t.contains("dt-bulma")?{wrapper:{tag:"ul",className:"dt-inputpaging pagination-list"},item:{tag:"li",className:"",disabled:"disabled",liner:{tag:"a",className:"pagination-link"}},inputItem:{tag:"li",className:"dt-paging-input"},input:{tag:"input",className:""}}:t.contains("dt-foundation")?{wrapper:{tag:"ul",className:"dt-inputpaging pagination"},item:{tag:"li",className:"",disabled:"disabled",liner:{tag:"a",className:""}},inputItem:{tag:"li",className:"dt-paging-input"},input:{tag:"input",className:""}}:t.contains("dt-semanticUI")?{wrapper:{tag:"div",className:"dt-inputpaging ui unstackable pagination menu"},item:{tag:"a",className:"page-link item",disabled:"disabled"},inputItem:{tag:"div",className:"dt-paging-input"},input:{tag:"input",className:"ui input"}}:{wrapper:{tag:"div",className:"dt-inputpaging dt-paging"},item:{tag:"button",className:"dt-paging-button",disabled:"disabled"},inputItem:{tag:"div",className:"dt-paging-input",liner:{tag:"",className:""}},input:{tag:"input",className:""}}}function createElement(t,e,a){var i=document.createElement(t.tag);return i.className=t.className,t.liner&&t.liner.tag?(t=createElement(t.liner,e),i.appendChild(t)):e&&(i.innerHTML=e),a&&i.addEventListener("click",a),i}DataTable.feature.register("inputPaging",function(t,e){let a=new DataTable.Api(t),i=stylingStructure(a);t=Object.assign({firstLast:!0,previousNext:!0,pageOf:!0},e),e=createElement(i.wrapper);let s=createElement(i.item,a.i18n("oPaginate.sFirst","«"),()=>{s.classList.contains(i.item.disabled)||a.page("first").draw(!1)}),n=createElement(i.item,a.i18n("oPaginate.sPrevious","‹"),()=>{n.classList.contains(i.item.disabled)||a.page("previous").draw(!1)}),l=createElement(i.item,a.i18n("oPaginate.sNext","›"),()=>{l.classList.contains(i.item.disabled)||a.page("next").draw(!1)}),p=createElement(i.item,a.i18n("oPaginate.sLast","»"),()=>{p.classList.contains(i.item.disabled)||a.page("last").draw(!1)});var d=createElement(i.inputItem);let r=createElement(i.input),g=createElement({tag:"span",className:""});return r.setAttribute("type","text"),r.setAttribute("inputmode","numeric"),r.setAttribute("pattern","[0-9]*"),t.firstLast&&e.appendChild(s),t.previousNext&&e.appendChild(n),e.appendChild(d),t.previousNext&&e.appendChild(l),t.firstLast&&e.appendChild(p),d.appendChild(r),t.pageOf&&d.appendChild(g),r.addEventListener("keypress",function(t){(t.charCode<48||57<t.charCode)&&t.preventDefault()}),r.addEventListener("input",function(){r.value&&a.page(r.value-1).draw(!1),r.style.width=r.value.length+2+"ch"}),a.on("draw",()=>{var t=a.page.info(),e=(setState(s,i.item.disabled,0===t.page),setState(n,i.item.disabled,0===t.page),0===t.recordsTotal||0===t.recordsDisplay?0:t.pages-1);setState(l,i.item.disabled,t.page===e),setState(p,i.item.disabled,t.page===e),0===t.recordsTotal||0===t.recordsDisplay?(r.value="",r.disabled=!0):r.value!==t.page+1&&(r.value=t.page+1,r.disabled=!1),g.textContent=" / "+t.pages}),e});export default DataTable;